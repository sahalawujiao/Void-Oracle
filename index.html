<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>神秘塔罗 - 三牌阵占卜</title>
    <style>
        :root {
            --gold: #d4af37;
            --deep-purple: #1a1a2e;
        }
        body {
            background-color: var(--deep-purple);
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        h1 { color: var(--gold); }
        
        /* 牌阵容器 */
        .spread {
            display: flex;
            gap: 20px;
            margin-top: 50px;
            perspective: 1000px;
        }

        .card-slot {
            text-align: center;
            width: 150px;
        }

        .slot-title {
            margin-bottom: 10px;
            color: var(--gold);
            font-weight: bold;
        }

        /* 卡牌 3D 翻转效果 */
        .card {
            width: 150px;
            height: 260px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            border: 2px solid var(--gold);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            box-sizing: border-box;
        }

        .card-back {
            background: linear-gradient(45deg, #2c3e50, #000);
            background-image: radial-gradient(var(--gold) 1px, transparent 0);
            background-size: 20px 20px;
        }

        .card-front {
            background: white;
            color: #333;
            transform: rotateY(180deg);
            flex-direction: column;
            text-align: center;
        }

        .meaning-box {
            margin-top: 30px;
            max-width: 600px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 8px;
            display: none;
        }

        button {
            margin-top: 30px;
            padding: 10px 30px;
            background: var(--gold);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
        }
    </style>
</head>
<body>

    <h1>塔罗圣殿 · 三牌阵</h1>
    
    <div class="spread">
        <div class="card-slot">
            <div class="slot-title">过去</div>
            <div class="card" id="card-0">
                <div class="card-face card-back"></div>
                <div class="card-face card-front" id="front-0"></div>
            </div>
        </div>
        <div class="card-slot">
            <div class="slot-title">现在</div>
            <div class="card" id="card-1">
                <div class="card-face card-back"></div>
                <div class="card-face card-front" id="front-1"></div>
            </div>
        </div>
        <div class="card-slot">
            <div class="slot-title">未来</div>
            <div class="card" id="card-2">
                <div class="card-face card-back"></div>
                <div class="card-face card-front" id="front-2"></div>
            </div>
        </div>
    </div>

    <button onclick="startReading()">洗牌并占卜</button>

    <div class="meaning-box" id="result">
        <h3>解读建议：</h3>
        <p id="interpretation"></p>
    </div>

    <script>
        // 1. 数据定义 (示例部分卡牌，你可以自行扩充到 78 张)
        const deck = [
            { name: "愚者", meaning: "纯真、新的开始、自由。" },
            { name: "魔术师", meaning: "创造力、行动力、潜能。" },
            { name: "女祭司", meaning: "直觉、潜意识、神秘。" },
            { name: "皇后", meaning: "丰饶、母性、自然。" },
            { name: "皇帝", meaning: "权威、秩序、稳定。" },
            { name: "恋人", meaning: "选择、和谐、关系。" },
            { name: "战车", meaning: "意志、胜利、自律。" },
            { name: "死神", meaning: "结束、转化、新陈代谢。" }
        ];

        function startReading() {
            // 隐藏上次的结果
            document.getElementById('result').style.display = 'none';
            
            // 2. 洗牌逻辑 (Fisher-Yates)
            let shuffled = [...deck].sort(() => Math.random() - 0.5);
            
            // 3. 抽取前三张并渲染
            for (let i = 0; i < 3; i++) {
                const cardElement = document.getElementById(`card-${i}`);
                const frontElement = document.getElementById(`front-${i}`);
                const cardData = shuffled[i];

                // 先重置翻牌状态
                cardElement.classList.remove('flipped');
                
                // 延迟翻牌，增加仪式感
                setTimeout(() => {
                    frontElement.innerHTML = `<h3>${cardData.name}</h3><small>${cardData.meaning}</small>`;
                    cardElement.classList.add('flipped');
                }, i * 400);
            }

            // 4. 显示综合解读
            setTimeout(() => {
                const resultBox = document.getElementById('result');
                const intro = `你的旅程从 **${shuffled[0].name}** 开始，经过 **${shuffled[1].name}** 的洗礼，最终将走向 **${shuffled[2].name}** 的启示。`;
                document.getElementById('interpretation').innerHTML = intro;
                resultBox.style.display = 'block';
            }, 1500);
        }
    </script>
</body>
</html>
